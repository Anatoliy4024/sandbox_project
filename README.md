++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444444
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
- # TelegramBot_PicnicAlicante

## Версия от 19.08.2024

## 1. Суть проекта
Проект направлен на автоматическое администрирование организации ивентов. Пользователи взаимодействуют с ботом Telegram, чтобы планировать мероприятия, выбирая даты, время, количество участников, стиль вечеринки и прочие предпочтения.

## 2. Файловая структура
Проект состоит из следующих файлов и директорий:
- `main.py`: Основной файл, запускающий бота и обрабатывающий взаимодействие с пользователями.
- `database_logger.py`: Модуль для логирования операций с базой данных.
- `abstract_functions.py`: Модуль, содержащий вспомогательные функции для работы с базой данных.
- `keyboards.py`: Модуль, создающий различные клавиатуры для взаимодействия с пользователем.
- `view_database.py`: Модуль для просмотра данных из базы данных.
- `sqlite.db`: Файл базы данных SQLite, где хранятся сессии пользователей.
- `message_handlers.py`: Модуль для обработки сообщений и команд.
- `media/`: Директория с видеороликами для приветствия пользователей.
- `constants.py`: Модуль, содержащий константы и временные данные, используемые в проекте.
- `initialize_db.py`: Скрипт для инициализации базы данных с необходимыми таблицами.
- `main_sandbox.py`: Песочница для тестирования различных функций и логики бота.
- `check_db_structure.py`: Скрипт для проверки структуры базы данных.
- `button_template.py`: Шаблон для создания кнопок в интерфейсе бота.
- **`order_calculation.py`**: Модуль для расчета стоимости ивента на основе данных о мероприятии.
- **`bank_payment.py`**: Модуль, имитирующий процесс оплаты, отображает страницу резерва и переходит к проформе.
- **`confirmation_buttons.py`**: Модуль для генерации кнопок "Да/Нет" на различных этапах работы бота.
- **`proforma_generator.py`**: Модуль для создания проформы, включает стандартные кнопки для сохранения документа.

## 3. Архитектура

### 3.1 Принцип каскадности
Принцип каскадности используется для разделения модулей на переменные и постоянные абстракции:
- **Переменные абстракции** учитывают пожелания пользователя и предлагают выбор из различных опций (например, язык, дата, время и т.д.).
- **Постоянные абстракции** выполняют одно повторяющееся действие, такое как запрос подтверждения действия (например, "Введите имя", "Вы выбрали...") и кнопки "Да" и "Нет".

Всего имеется: *на момент разработки документации - 19.08.2024*
- Переменных абстракций: 9
- Постоянных абстракций: 8

### 3.2 Перечень модулей с их названиями

1. **Модуль 1** (Переменный)
   - Название: `language_selection`
   - Описание: Выбор языка пользователем.
   - Функции: `language_selection_keyboard()`

2. **Модуль 2** (Постоянный)
   - Название: `greeting`
   - Описание: Приветствие пользователю и запрос имени с последующим вопросом.
   - Функции: `handle_name()`

3. **Модуль 3** (Переменный)
   - Название: `date_selection`
   - Описание: Выбор даты мероприятия.
   - Функции: `generate_calendar_keyboard()`, `show_calendar()`

4. **Модуль 4** (Постоянный)
   - Название: `date_confirmation`
   - Описание: Подтверждение выбранной даты.
   - Функции: `disable_calendar_buttons()`

5. **Модуль 5** (Переменный)
   - Название: `time_selection`
   - Описание: Выбор времени мероприятия.
   - Функции: `generate_time_selection_keyboard()`

6. **Модуль 6** (Постоянный)
   - Название: `time_confirmation`
   - Описание: Подтверждение выбранного времени.
   - Функции: `disable_time_buttons()`

7. **Модуль 7** (Переменный)
   - Название: `people_selection`
   - Описание: Выбор количества участников.
   - Функции: `generate_person_selection_keyboard()`

8. **Модуль 8** (Постоянный)
   - Название: `people_confirmation`
   - Описание: Подтверждение количества участников.
   - Функции: `disable_person_buttons()`

9. **Модуль 9** (Переменный)
   - Название: `style_selection`
   - Описание: Выбор стиля мероприятия.
   - Функции: `generate_party_styles_keyboard()`

10. **Модуль 10** (Постоянный)
    - Название: `style_confirmation`
    - Описание: Подтверждение выбранного стиля.
    - Функции: `disable_style_buttons()`

11. **Модуль 11** (Переменный)
    - Название: `preferences_request`
    - Описание: Запрос предпочтений пользователя.
    - Функции: `handle_preferences()`

12. **Модуль 12** (Переменный)
    - Название: `city_request`
    - Описание: Запрос города проведения мероприятия.
    - Функции: `handle_city()`

13. **Модуль 13** (Переменный)
    - Название: `order_calculation`
    - Описание: Формирование ордера с расчетом стоимости мероприятия.
    - Функции: `calculate_order_cost()`

14. **Модуль 14** (Переменный)
    - Название: `bank_payment`
    - Описание: Имитация процесса оплаты, отображает страницу резерва и переходит к проформе.
    - Функции: `show_payment_page()`

15. **Модуль 15** (Постоянный)
    - Название: `confirmation_buttons`
    - Описание: Генерация кнопок "Да/Нет" для подтверждения действий на различных этапах.
    - Функции: `generate_confirmation_buttons()`

16. **Модуль 16** (Переменный)
    - Название: `proforma_generator`
    - Описание: Генерация проформы и предложение сохранить документ.
    - Функции: `generate_proforma()`, `save_proforma()`

17. **Модуль 17** (Постоянный)
    - Название: `confirmation_buttons`
    - Описание: Генерация кнопок "Да/Нет" в конце работы бота для завершения или перенаправления.
    - Функции: `generate_final_confirmation_buttons()`

### 3.3 Принцип взаимодействия файлов

1. **main.py**: Основной файл, запускающий бота и обрабатывающий все взаимодействия с пользователем.
   
   **Анализ файла main.py**:
   Этот файл является основным для вашего проекта и содержит настройки, обработчики команд и обратных вызовов для Telegram-бота. Вот основные элементы:

   1. **Импорт библиотек**:
      - Импортируются необходимые библиотеки, включая библиотеки для работы с Telegram API, базой данных, и вспомогательные функции.

   2. **Логирование**:
      - Логирование настроено для записи в файл `db_operations.log` с уровнем детализации DEBUG.

   3. **Функции для работы с базой данных**:
      - `create_connection()`: Создает соединение с базой данных.
      - `execute_query_with_retry()`: Выполняет SQL-запрос с повторными попытками при блокировке базы данных.

   4. **Асинхронные обработчики команд и сообщений**:
      - `start()`: Обрабатывает команду `/start`, сохраняет информацию о пользователе в базу данных и предлагает выбрать язык.
      - `button_callback()`: Обрабатывает нажатия кнопок, управляющих логикой бота, включая выбор языка, времени, даты, количества людей, стиля вечеринки и предпочтений.
      - `show_calendar()`: Показывает календарь для выбора даты.
      - `handle_name()`: Обрабатывает ввод имени пользователя.

   5. **Функции для изменения клавиатур**:
      - `disable_calendar_buttons()`, `disable_time_buttons()`, `disable_person_buttons()`, `disable_style_buttons()`, `disable_yes_no_buttons()`: Отключают кнопки после выбора пользователем.

   6. **Запуск бота**:
      - Приложение инициализируется и запускается с добавлением соответствующих обработчиков команд и сообщений.

2. **database_logger.py**: Содержит функции для логирования операций с базой данных.
   
   **Анализ файла database_logger.py**:
   Этот файл содержит функции для логирования операций с базой данных, а также настройки для логирования. Вот основные элементы:

   1. **Настройка логирования**:
      - Логирование настраивается с использованием модуля `logging`.
      - Логи записываются в файл `db_operations.log` с форматированием, включающим время, уровень логирования и сообщение.
      - Установлена кодировка UTF-8 для корректного отображения символов.

   2. **Функции логирования**:
      - `log_message(message)`: Логирует произвольное сообщение.
      - `log_query(query, params=())`: Логирует SQL-запрос и его параметры.

   3. **`execute_query_with_logging(conn, query, params=())`**:
      - Выполняет SQL-запрос с логированием.
      - Логирует запрос и его параметры перед выполнением.
      - Логирует успешное выполнение запроса или ошибку.

   Этот файл предназначен для отслеживания операций с базой данных, что помогает в отладке и мониторинге выполнения запросов.

3. **abstract_functions.py**: Вспомогательные функции для работы с базой данных.
   
   **Анализ файла abstract_functions.py**:
   Этот файл содержит функции для работы с базой данных SQLite, включая создание соединения, выполнение запросов и повторные попытки выполнения запросов при блокировке базы данных. Вот основные функции, включенные в этот файл:

   1. **`create_connection(db_file)`**:
      - Создает соединение с базой данных SQLite.
      - Логирует успешное создание соединения или ошибку.

   2. **`execute_query(conn, query, params=())`**:
      - Выполняет SQL-запрос.
      - Логирует запрос и его параметры.
      - Закрывает соединение с базой данных после выполнения.

   3. **`execute_query_with_retry(query, params=(), user_data=None, max_retries=5)`**:
      - Выполняет SQL-запрос с повторными попытками при блокировке базы данных.
      - Логирует каждую попытку выполнения запроса и успешное выполнение.
      - Закрывает соединение после завершения выполнения запроса.

   Этот файл предоставляет базовые функции для работы с базой данных, включая обработку ошибок и логирование.

4. **keyboards.py**: Создает различные клавиатуры для взаимодействия с пользователем.
   
   **Анализ файла keyboards.py**:
   Этот файл содержит функции для генерации различных клавиатур в боте Telegram. Вот основные элементы:

   1. **Генерация календарной клавиатуры**:
      - `generate_calendar_keyboard(month_offset=0, language='en')`: Генерирует клавиатуру календаря для выбора даты с учетом смещения месяца и языка.

   2. **Генерация клавиатуры для выбора времени**:
      - `generate_time_selection_keyboard(language, stage='start', start_time=None)`: Генерирует клавиатуру для выбора времени, учитывая стадию (выбор начала или конца) и стартовое время.

   3. **Клавиатура для выбора языка**:
      - `language_selection_keyboard()`: Генерирует клавиатуру для выбора языка.

   4. **Клавиатура с вариантами "Да"/"Нет"**:
      - `yes_no_keyboard(language)`: Генерирует клавиатуру для подтверждения действий с вариантами "Да" и "Нет".

   5. **Клавиатура для выбора количества участников**:
      - `generate_person_selection_keyboard(language)`: Генерирует клавиатуру для выбора количества участников мероприятия.

   6. **Клавиатура для выбора стиля мероприятия**:
      - `generate_party_styles_keyboard(language)`: Генерирует клавиатуру для выбора стиля мероприятия.

   Этот файл обеспечивает функционал для создания интерактивных элементов в боте, позволяя пользователю легко взаимодействовать с ботом.

5. **view_database.py**: Модуль для просмотра данных из базы данных.
   
   **Анализ файла view_database.py**:
   Этот файл предоставляет возможность просмотра данных из базы данных SQLite. Основной элемент:

   1. **`fetch_all_users()`**:
      - Подключается к базе данных `sqlite.db`.
      - Выполняет SQL-запрос для выборки всех пользователей из таблицы `users`.
      - Выводит результат в консоль.

   Этот файл используется для отладки и проверки данных, хранящихся в базе данных.

### 4. Новые компоненты в версии 4.0

#### 4.1 Добавлены новые модули

1. **`initialize_db.py`**
   - Назначение: Скрипт для инициализации базы данных с необходимыми таблицами.
   - Особенности: Создает таблицы `users` и `orders` в базе данных, если они не существуют.

2. **`main_sandbox.py`**
   - Назначение: Песочница для тестирования различных функций и логики бота.
   - Особенности: Позволяет проводить тестирование функций бота без влияния на основную работу бота.

3. **`button_template.py`**
   - Назначение: Шаблон для создания кнопок в интерфейсе бота.
   - Особенности: Генерирует кнопки календаря для выбора дат.

4. **`order_calculation.py`**
   - Назначение: Модуль для расчета стоимости мероприятия на основе введенных данных.
   - Особенности: Рассчитывает стоимость на основе выбранных пользователем параметров (время, количество людей и т.д.).

5. **`bank_payment.py`**
   - Назначение: Модуль для имитации процесса оплаты.
   - Особенности: Показывает страницу оплаты и автоматически переходит к формированию проформы.

6. **`proforma_generator.py`**
   - Назначение: Модуль для создания и сохранения проформы.
   - Особенности: Создает проформу на основе данных мероприятия и предоставляет возможность ее сохранить.

7. **`confirmation_buttons.py`**
   - Назначение: Модуль для генерации кнопок "Да/Нет".
   - Особенности: Используется на различных этапах взаимодействия для подтверждения действий пользователя.

### 5. Примечания

- В новой версии 4.0 упрощена структура работы бота, убран лишний модуль подтверждения города.
- Обновлены и добавлены новые модули и компоненты для улучшения взаимодействия с пользователем.
- Улучшена структура базы данных для хранения и обработки данных.


++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
- # TelegramBot_PicnicAlicante


# TelegramBot_PicnicAlicante

## Версия от 20.08.2024

## 1. Суть проекта
Проект направлен на автоматическое администрирование организации ивентов. Пользователи взаимодействуют с ботом Telegram, чтобы планировать мероприятия, выбирая даты, время, количество участников, стиль вечеринки и прочие предпочтения.

## 2. Файловая структура
Проект состоит из следующих файлов и директорий:
- `main.py`: Основной файл, запускающий бота и обрабатывающий взаимодействие с пользователями.
- `database_logger.py`: Модуль для логирования операций с базой данных.
- `abstract_functions.py`: Модуль, содержащий вспомогательные функции для работы с базой данных.
- `keyboards.py`: Модуль, создающий различные клавиатуры для взаимодействия с пользователем.
- `view_database.py`: Модуль для просмотра данных из базы данных.
- `sqlite.db`: Файл базы данных SQLite, где хранятся сессии пользователей.
- `message_handlers.py`: Модуль для обработки сообщений и команд.
- `media/`: Директория с видеороликами для приветствия пользователей.
- `constants.py`: Модуль, содержащий константы и временные данные, используемые в проекте.
- `initialize_db.py`: Скрипт для инициализации базы данных с необходимыми таблицами.
- `main_sandbox.py`: Песочница для тестирования различных функций и логики бота.
- `check_db_structure.py`: Скрипт для проверки структуры базы данных.
- `button_template.py`: Шаблон для создания кнопок в интерфейсе бота.
- `order_calculation.py`: Модуль для расчета стоимости ивента на основе данных о мероприятии.
- `bank_payment.py`: Модуль, имитирующий процесс оплаты, отображает страницу резерва и переходит к проформе.
- `confirmation_buttons.py`: Модуль для генерации кнопок "Да/Нет" на различных этапах работы бота.
- `proforma_generator.py`: Модуль для создания проформы, включает стандартные кнопки для сохранения документа.
- **`final_confirmation_buttons.py`**: Планируемый модуль для генерации финальных кнопок "Да/Нет" для завершения работы бота.

## 3. Архитектура

### 3.1 Принцип каскадности
Принцип каскадности используется для разделения модулей на переменные и постоянные абстракции:
- **Переменные абстракции** учитывают пожелания пользователя и предлагают выбор из различных опций (например, язык, дата, время и т.д.).
- **Постоянные абстракции** выполняют одно повторяющееся действие, такое как запрос подтверждения действия (например, "Введите имя", "Вы выбрали...") и кнопки "Да" и "Нет".

Всего имеется: *на момент разработки документации - 20.08.2024*
- Переменных абстракций: 9
- Постоянных абстракций: 8

### 3.2 Перечень модулей с их названиями

1. **Модуль 1** (Переменный)
   - Название: `language_selection`
   - Описание: Выбор языка пользователем.
   - Функции: `language_selection_keyboard()`

2. **Модуль 2** (Постоянный)
   - Название: `greeting`
   - Описание: Приветствие пользователю и запрос имени с последующим вопросом.
   - Функции: `handle_name()`

3. **Модуль 3** (Переменный)
   - Название: `date_selection`
   - Описание: Выбор даты мероприятия.
   - Функции: `generate_calendar_keyboard()`, `show_calendar()`

4. **Модуль 4** (Постоянный)
   - Название: `date_confirmation`
   - Описание: Подтверждение выбранной даты.
   - Функции: `disable_calendar_buttons()`

5. **Модуль 5** (Переменный)
   - Название: `time_selection`
   - Описание: Выбор времени мероприятия.
   - Функции: `generate_time_selection_keyboard()`

6. **Модуль 6** (Постоянный)
   - Название: `time_confirmation`
   - Описание: Подтверждение выбранного времени.
   - Функции: `disable_time_buttons()`

7. **Модуль 7** (Переменный)
   - Название: `people_selection`
   - Описание: Выбор количества участников.
   - Функции: `generate_person_selection_keyboard()`

8. **Модуль 8** (Постоянный)
   - Название: `people_confirmation`
   - Описание: Подтверждение количества участников.
   - Функции: `disable_person_buttons()`

9. **Модуль 9** (Переменный)
   - Название: `style_selection`
   - Описание: Выбор стиля мероприятия.
   - Функции: `generate_party_styles_keyboard()`

10. **Модуль 10** (Постоянный)
    - Название: `style_confirmation`
    - Описание: Подтверждение выбранного стиля.
    - Функции: `disable_style_buttons()`

11. **Модуль 11** (Переменный)
    - Название: `preferences_request`
    - Описание: Запрос предпочтений пользователя.
    - Функции: `handle_preferences()`

12. **Модуль 12** (Переменный)
    - Название: `city_request`
    - Описание: Запрос города проведения мероприятия.
    - Функции: `handle_city()`

13. **Модуль 13** (Переменный)
    - Название: `order_calculation`
    - Описание: Формирование ордера с расчетом стоимости мероприятия.
    - Функции: `calculate_order_cost()`

14. **Модуль 14** (Переменный)
    - Название: `bank_payment`
    - Описание: Имитация процесса оплаты, отображает страницу резерва и переходит к проформе.
    - Функции: `show_payment_page()`

15. **Модуль 15** (Постоянный)
    - Название: `confirmation_buttons`
    - Описание: Генерация кнопок "Да/Нет" для подтверждения действий на различных этапах.
    - Функции: `generate_confirmation_buttons()`

16. **Модуль 16** (Переменный)
    - Название: `proforma_generator`
    - Описание: Генерация проформы и предложение сохранить документ.
    - Функции: `generate_proforma()`, `save_proforma()`

17. **Модуль 17** (Постоянный)
    - Название: `final_confirmation_buttons`
    - Описание: Генерация кнопок "Да/Нет" в конце работы бота для завершения или перенаправления.
    - Функции: `generate_final_confirmation_buttons()`

### 3.3 Принцип взаимодействия файлов

1. **main.py**: Основной файл, запускающий бота и обрабатывающий все взаимодействия с пользователем.
   
   **Анализ файла main.py**:
   Этот файл является основным для вашего проекта и содержит настройки, обработчики команд и обратных вызовов для Telegram-бота. Вот основные элементы:

   1. **Импорт библиотек**:
      - Импортируются необходимые библиотеки, включая библиотеки для работы с Telegram API, базой данных, и вспомогательные функции.

   2. **Логирование**:
      - Логирование настроено для записи в файл `db_operations.log` с уровнем детализации DEBUG.

   3. **Функции для работы с базой данных**:
      - `create_connection()`: Создает соединение с базой данных.
      - `execute_query_with_retry()`: Выполняет SQL-запрос с повторными попытками при блокировке базы данных.

   4. **Асинхронные обработчики команд и сообщений**:
      - `start()`: Обрабатывает команду `/start`, сохраняет информацию о пользователе в базу данных и предлагает выбрать язык.
      - `button_callback()`: Обрабатывает нажатия кнопок, управляющих логикой бота, включая выбор языка, времени, даты, количества людей, стиля вечеринки и предпочтений.
      - `show_calendar()`: Показывает календарь для выбора даты.
      - `handle_name()`: Обрабатывает ввод имени пользователя.

   5. **Функции для изменения клавиатур**:
      - `disable_calendar_buttons()`, `disable_time_buttons()`, `disable_person_buttons()`, `disable_style_buttons()`, `disable_yes_no_buttons()`: Отключают кнопки после выбора пользователем.

   6. **Запуск бота**:
      - Приложение инициализируется и запускается с добавлением соответствующих обработчиков команд и сообщений.

2. **database_logger.py**: Содержит функции для логирования операций с базой данных.
   
   **Анализ файла database_logger.py**:
   Этот файл содержит функции для логирования операций с базой данных, а также настройки для логирования. Вот основные элементы:

   1. **Настройка логирования**:
      - Логирование настраивается с использованием модуля `logging`.
      - Логи записываются в файл `db_operations.log` с форматированием, включающим время, уровень логирования и сообщение.
      - Установлена кодировка UTF-8 для корректного отображения символов.

   2. **Функции логирования**:
      - `log_message(message)`: Логирует произвольное сообщение.
      - `log_query(query, params=())`: Логирует SQL-запрос и его параметры.

   3. **`execute_query_with_logging(conn, query, params=())`**:
      - Выполняет SQL-запрос с логированием.
      - Логирует запрос и его параметры перед выполнением.
      - Логирует успешное выполнение запроса или ошибку.

   Этот файл предназначен для отслеживания операций с базой данных, что помогает в отладке и мониторинге выполнения запросов.

3. **abstract_functions.py**: Вспомогательные функции для работы с базой данных.
   
   **Анализ файла abstract_functions.py**:
   Этот файл содержит функции для работы с базой данных SQLite, включая создание соединения, выполнение запросов и повторные попытки выполнения запросов при блокировке базы данных. Вот основные функции, включенные в этот файл:

   1. **`create_connection(db_file)`**:
      - Создает соединение с базой данных SQLite.
      - Логирует успешное создание соединения или ошибку.

   2. **`execute_query(conn, query, params=())`**:
      - Выполняет SQL-запрос.
      - Логирует запрос и его параметры.
      - Закрывает соединение с базой данных после выполнения.

   3. **`execute_query_with_retry(query, params=(), user_data=None, max_retries=5)`**:
      - Выполняет SQL-запрос с повторными попытками при блокировке базы данных.
      - Логирует каждую попытку выполнения запроса и успешное выполнение.
      - Закрывает соединение после завершения выполнения запроса.

   Этот файл предоставляет базовые функции для работы с базой данных, включая обработку ошибок и логирование.

4. **keyboards.py**: Создает различные клавиатуры для взаимодействия с пользователем.
   
   **Анализ файла keyboards.py**:
   Этот файл содержит функции для генерации различных клавиатур в боте Telegram. Вот основные элементы:

   1. **Генерация календарной клавиатуры**:
      - `generate_calendar_keyboard(month_offset=0, language='en')`: Генерирует клавиатуру календаря для выбора даты с учетом смещения месяца и языка.

   2. **Генерация клавиатуры для выбора времени**:
      - `generate_time_selection_keyboard(language, stage='start', start_time=None)`: Генерирует клавиатуру для выбора времени, учитывая стадию (выбор начала или конца) и стартовое время.

   3. **Клавиатура для выбора языка**:
      - `language_selection_keyboard()`: Генерирует клавиатуру для выбора языка.

   4. **Клавиатура с вариантами "Да"/"Нет"**:
      - `yes_no_keyboard(language)`: Генерирует клавиатуру для подтверждения действий с вариантами "Да" и "Нет".

   5. **Клавиатура для выбора количества участников**:
      - `generate_person_selection_keyboard(language)`: Генерирует клавиатуру для выбора количества участников мероприятия.

   6. **Клавиатура для выбора стиля мероприятия**:
      - `generate_party_styles_keyboard(language)`: Генерирует клавиатуру для выбора стиля мероприятия.

   Этот файл обеспечивает функционал для создания интерактивных элементов в боте, позволяя пользователю легко взаимодействовать с ботом.

5. **view_database.py**: Модуль для просмотра данных из базы данных.
   
   **Анализ файла view_database.py**:
   Этот файл предоставляет возможность просмотра данных из базы данных SQLite. Основной элемент:

   1. **`fetch_all_users()`**:
      - Подключается к базе данных `sqlite.db`.
      - Выполняет SQL-запрос для выборки всех пользователей из таблицы `users`.
      - Выводит результат в консоль.

   Этот файл используется для отладки и проверки данных, хранящихся в базе данных.

### 4. Новые компоненты в версии 5.0

#### 4.1 Добавлены новые модули

1. **`initialize_db.py`**
   - Назначение: Скрипт для инициализации базы данных с необходимыми таблицами.
   - Особенности: Создает таблицы `users` и `orders` в базе данных, если они не существуют.

2. **`main_sandbox.py`**
   - Назначение: Песочница для тестирования различных функций и логики бота.
   - Особенности: Позволяет проводить тестирование функций бота без влияния на основную работу бота.

3. **`button_template.py`**
   - Назначение: Шаблон для создания кнопок в интерфейсе бота.
   - Особенности: Генерирует кнопки календаря для выбора дат.

4. **`order_calculation.py`**
   - Назначение: Модуль для расчета стоимости мероприятия на основе введенных данных.
   - Особенности: Рассчитывает стоимость на основе выбранных пользователем параметров (время, количество людей и т.д.).

5. **`bank_payment.py`**
   - Назначение: Модуль для имитации процесса оплаты.
   - Особенности: Показывает страницу оплаты и автоматически переходит к формированию проформы.

6. **`proforma_generator.py`**
   - Назначение: Модуль для создания и сохранения проформы.
   - Особенности: Создает проформу на основе данных мероприятия и предоставляет возможность ее сохранить.

7. **`confirmation_buttons.py`**
   - Назначение: Модуль для генерации кнопок "Да/Нет".
   - Особенности: Используется на различных этапах взаимодействия для подтверждения действий пользователя.

8. **`final_confirmation_buttons.py`**
   - Назначение: Планируемый модуль для генерации финальных кнопок "Да/Нет" в конце работы бота.
   - Особенности: Позволит завершать взаимодействие с ботом или перенаправлять на другие действия.

### 5. Примечания

- В новой версии 5.0 добавлены и переработаны модули, в частности, обновлены модули для обработки платежей и создания проформы.
- Улучшена структура работы с языковыми предпочтениями пользователей, оптимизированы функции для взаимодействия с базой данных.
- Структура логирования и обработки ошибок была значительно улучшена, чтобы упростить отладку и мониторинг работы бота.

